<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tournament System</title>
    <link rel="stylesheet" href="styles.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css"
    />
  </head>
  <body>
    <div class="theme-toggle-wrapper">
      <button class="theme-toggle" id="themeToggle">
        <span class="light-text"><i class="fas fa-moon"></i></span>
        <span class="dark-text" style="display: none"
          ><i class="fas fa-sun"></i
        ></span>
      </button>
    </div>

    <!-- Navigation Bar -->
    <nav class="navbar">
      <div class="nav-brand">Tournament System</div>
      <button class="nav-toggle">
        <i class="fas fa-bars"></i>
      </button>
      <ul class="nav-menu">
        <li><a href="#home" class="nav-link">Home</a></li>
        <li><a href="#tournaments" class="nav-link">Tournaments</a></li>
        <li><a href="#admin" class="nav-link">Admin</a></li>
        <li><a href="#player-dashboard" class="nav-link">Player</a></li>
        <li><a href="#contact" class="nav-link">Contact Us</a></li>
        <li><a href="#" id="logoutBtn" class="nav-link">Logout</a></li>
        <li class="theme-toggle-mobile">
          <button
            class="theme-toggle"
            id="themeToggleMobile"
            style="display: none"
          >
            <span class="light-text"><i class="fas fa-moon"></i></span>
            <span class="dark-text" style="display: none"
              ><i class="fas fa-sun"></i
            ></span>
          </button>
        </li>
      </ul>
    </nav>

    <!-- Login View -->
    <div id="loginView" class="view">
      <div class="login-container">
        <form id="loginForm" class="login-form">
          <h2>Welcome Back</h2>
          <div
            id="userLoginError"
            class="error-message"
            style="display: none"
          ></div>
          <div class="form-group">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" required />
          </div>
          <div class="form-group">
            <label for="password">Password</label>
            <input type="password" id="password" name="password" required />
          </div>
          <button type="submit" class="login-btn">Login</button>
          <div class="form-footer">
            <p>
              Don't have an account? <a href="#" class="signup-link">Sign Up</a>
            </p>
          </div>
        </form>
      </div>
    </div>

    <!-- Sign Up View -->
    <div id="signupView" class="view" style="display: none">
      <div class="login-container">
        <form id="signupForm" class="login-form">
          <h2>Create Account</h2>
          <div class="form-group">
            <label for="signupName">Full Name</label>
            <input type="text" id="signupName" name="name" required />
          </div>
          <div class="form-group">
            <label for="signupEmail">Email</label>
            <input type="email" id="signupEmail" name="email" required />
          </div>
          <div class="form-group">
            <label for="signupPassword">Password</label>
            <input
              type="password"
              id="signupPassword"
              name="password"
              required
            />
          </div>
          <div class="form-group">
            <label for="confirmPassword">Confirm Password</label>
            <input
              type="password"
              id="confirmPassword"
              name="confirmPassword"
              required
            />
          </div>
          <button type="submit" class="login-btn">Create Account</button>
          <div class="form-footer">
            <p>
              Already have an account? <a href="#" class="login-link">Login</a>
            </p>
          </div>
        </form>
      </div>
    </div>

    <!-- Admin Login View -->
    <div id="adminLoginView" class="view" style="display: none">
      <div class="login-container">
        <form id="adminLoginForm" class="login-form">
          <h2>Admin Access Only</h2>
          <div
            id="adminLoginError"
            class="error-message"
            style="display: none"
          ></div>
          <div class="form-group">
            <label for="adminEmail">Admin Email</label>
            <input type="email" id="adminEmail" name="email" required />
          </div>
          <div class="form-group">
            <label for="adminPassword">Password</label>
            <input
              type="password"
              id="adminPassword"
              name="password"
              required
            />
          </div>
          <button type="submit" class="login-btn">Login as Admin</button>
        </form>
      </div>
    </div>

    <!-- Main Content Views -->
    <div id="mainContent" style="display: none">
      <!-- Home View -->
      <div id="homeView" class="view">
        <section class="hero">
          <div class="hero-content">
            <h1>Welcome to Tournament System</h1>
            <p>Organize and participate in exciting tournaments with ease!</p>
            <button
              class="cta-button"
              onclick="router.navigateTo('tournaments')"
            >
              Join Tournament
            </button>
          </div>
        </section>

        <section class="features">
          <h2>Main Features</h2>
          <div class="features-grid">
            <div class="feature-card">
              <i class="fas fa-trophy"></i>
              <h3>Tournament Management</h3>
              <p>
                Create and manage tournaments with up to 8 players. Perfect for
                small to medium-sized competitions.
              </p>
              <ul class="feature-list">
                <li>Easy tournament creation</li>
                <li>Automatic bracket generation</li>
                <li>Real-time updates</li>
                <li>Match scheduling</li>
              </ul>
            </div>

            <div class="feature-card">
              <i class="fas fa-users"></i>
              <h3>Player Dashboard</h3>
              <p>
                A dedicated space for players to manage their tournament
                participation.
              </p>
              <ul class="feature-list">
                <li>View upcoming matches</li>
                <li>Submit match results</li>
                <li>Track tournament progress</li>
                <li>Receive notifications</li>
              </ul>
            </div>

            <div class="feature-card">
              <i class="fas fa-crown"></i>
              <h3>Admin Controls</h3>
              <p>
                Powerful tools for tournament administrators to ensure smooth
                operation.
              </p>
              <ul class="feature-list">
                <li>Approve match results</li>
                <li>Manage participants</li>
                <li>Monitor tournament status</li>
                <li>Send announcements</li>
              </ul>
            </div>

            <div class="feature-card">
              <i class="fas fa-bell"></i>
              <h3>Notifications</h3>
              <p>Stay updated with our comprehensive notification system.</p>
              <ul class="feature-list">
                <li>Email notifications</li>
                <li>Match reminders</li>
                <li>Result updates</li>
                <li>Tournament announcements</li>
              </ul>
            </div>
          </div>
        </section>

        <section class="how-it-works">
          <h2>How It Works</h2>
          <div class="steps-container">
            <div class="step">
              <div class="step-number">1</div>
              <h3>Create Account</h3>
              <p>Sign up and create your personal profile to get started.</p>
            </div>
            <div class="step">
              <div class="step-number">2</div>
              <h3>Join Tournament</h3>
              <p>Browse available tournaments or create your own.</p>
            </div>
            <div class="step">
              <div class="step-number">3</div>
              <h3>Play Matches</h3>
              <p>Compete in matches and submit your results.</p>
            </div>
            <div class="step">
              <div class="step-number">4</div>
              <h3>Win Prizes</h3>
              <p>Progress through the brackets and win tournaments!</p>
            </div>
          </div>
        </section>

        <section class="cta-section">
          <h2>Ready to Get Started?</h2>
          <p>
            Join our growing community of tournament players and organizers!
          </p>
          <button class="cta-button" onclick="router.navigateTo('tournaments')">
            Join Tournament Now
          </button>
        </section>
      </div>

      <!-- Tournament List View -->
      <div id="tournamentListView" class="view" style="display: none">
        <!-- Tournament list content will be dynamically loaded -->
      </div>

      <!-- Tournament Details View -->
      <div id="tournamentDetailsView" class="view" style="display: none"></div>

      <!-- Player Dashboard View -->
      <div id="playerDashboardView" class="view" style="display: none">
        <div class="dashboard-container player-bg">
          <div id="playerTournaments">
            <!-- Player tournaments will be loaded here -->
          </div>
        </div>
      </div>

      <!-- Admin View -->
      <div id="adminView" class="view" style="display: none">
        <div class="admin-dashboard">
          <button
            id="adminLogoutBtn"
            class="logout-btn"
            style="float: right; margin-bottom: 10px"
          >
            Admin Logout
          </button>
          <div class="tournament-form">
            <h2>Create New Tournament</h2>
            <form id="tournamentForm">
              <div class="form-group">
                <label for="tournamentName">Tournament Name</label>
                <input type="text" id="tournamentName" required />
              </div>
              <div class="form-group">
                <label for="startDate">Start Date</label>
                <input type="date" id="startDate" required />
              </div>
              <div class="form-group">
                <label for="startTime">Start Time</label>
                <input type="time" id="startTime" required />
              </div>
              <div class="form-group">
                <label>Pending Player Requests</label>
                <div id="pending-requests-list" class="pending-requests-list">
                  <!-- Pending player requests will be loaded here -->
                </div>
                <pre
                  id="pending-requests-debug"
                  style="
                    background: #f8f8f8;
                    color: #c00;
                    font-size: 12px;
                    max-height: 120px;
                    overflow: auto;
                  "
                ></pre>
                <small>Select 2, 4, or 8 players for the tournament.</small>
              </div>
              <button
                type="submit"
                class="submit-btn"
                id="createTournamentBtn"
                disabled
              >
                Create Tournament
              </button>
            </form>
          </div>
          <div class="pending-results-section">
            <h2>Pending Match Results</h2>
            <div id="pending-results-list" class="pending-results-list">
              <!-- Pending match results will be loaded here -->
            </div>
          </div>
          <div class="tournament-list">
            <!-- Tournament management list will be loaded here -->
          </div>
        </div>
      </div>

      <!-- Contact View -->
      <div id="contactView" class="view" style="display: none">
        <div class="contact-container">
          <h2>Contact Us</h2>
          <p>Report any issues or concerns about tournaments</p>
          <form
            id="contactForm"
            class="contact-form"
            action="https://formspree.io/f/mkgrayoe"
            method="POST"
          >
            <div class="form-group">
              <label for="contactName">Your Name</label>
              <input type="text" id="contactName" name="name" required />
            </div>
            <div class="form-group">
              <label for="contactEmail">Your Email</label>
              <input type="email" id="contactEmail" name="email" required />
            </div>
            <div class="form-group">
              <label for="contactSubject">Subject</label>
              <input type="text" id="contactSubject" name="subject" required />
            </div>
            <div class="form-group">
              <label for="contactMessage">Message</label>
              <textarea
                id="contactMessage"
                name="message"
                rows="5"
                required
              ></textarea>
            </div>
            <button type="submit" class="submit-btn">Send Message</button>
          </form>
        </div>
      </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
      <div class="footer-content">
        <div class="footer-section">
          <h3>Tournament System</h3>
          <p>Manage your tournaments with ease</p>
        </div>
        <div class="footer-section">
          <p>Email: tournament.notify@gmail.com</p>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 Tournament System. All rights reserved.</p>
      </div>
    </footer>

    <script>
      // Navigation toggle for mobile
      document.querySelector(".nav-toggle").addEventListener("click", () => {
        document.querySelector(".nav-menu").classList.toggle("active");
      });

      // Close mobile menu when clicking a link
      document.querySelectorAll(".nav-link").forEach((link) => {
        link.addEventListener("click", () => {
          document.querySelector(".nav-menu").classList.remove("active");
        });
      });
    </script>

    <!-- Load scripts in the correct order -->
    <script src="js/theme.js"></script>
    <script src="js/api.js"></script>
    <script src="js/router.js"></script>
    <script src="js/login.js"></script>
    <script src="js/main.js"></script>
    <script src="js/player.js"></script>
    <script src="js/admin.js"></script>
  </body>
</html>
